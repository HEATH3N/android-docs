<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Map SDK | Android Documentation</title><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><style>.bg-denim{background-color:#607d9c!important}.btn{border-radius:0}.txt-s{line-height:inherit}.main-content{position:fixed;top:48px;bottom:0;overflow-y:auto;padding:24px 50px 50px;margin-left:250px;width:inherit}code p{font-weight:lighter;font-size:11px}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important;font-weight:700!important;font-size:13px!important;word-break:normal!important}pre{background-color:#232323!important}.toc{list-style-type:none;color:#fff;background:#232323;position:fixed;top:42px;bottom:0;overflow-y:auto;padding:24px 20px 20px;width:inherit;border-right:1px solid grey}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="1470060818"><div class="col--12 z1 hmin48 bg-denim shadow-darken50 fixed" data-reactid="2"><div class="ml240" data-reactid="3"><a class="py12 btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  is-active" href="/android-docs/map-sdk/5.0.0/getting-started/" data-reactid="4">Map SDK</a><a class="py12 btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/mapbox-java/2.0.0/getting-started/" data-reactid="5">Mapbox Java</a><a class="py12 btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/examples/" data-reactid="6">Examples</a></div></div><div class="grid" data-reactid="7"><div class="w240 toc" data-reactid="8"><li data-reactid="9"><a style="text-decoration:none;" href="/android-docs/map-sdk/5.0.0/getting-started/" data-reactid="10"><strong data-reactid="11">Map SDK</strong></a></li></div><div class="prose scroll-styled main-content" data-reactid="12"><div class="col--10" data-reactid="13"><div class="markdown" data-reactid="14"><h1 data-reactid="15">Map SDK</h1><div data-reactid="16"><h2 id="introduction">Introduction</h2>
<p>The Mapbox Maps SDK is an open source toolset for displaying maps inside your application. A demo app is available on the Google Play Store that includes an abundance of examples, including the ones referenced throughout this documentation.</p>
<h3 id="support-and-contributions">Support and contributions</h3>
<ul>
<li>If you are looking for support using this SDK, either reach out through <a href="https://stackoverflow.com/questions/tagged/mapbox+android">Stack Overflow</a> or through our <a href="https://www.mapbox.com/contact/">contact page</a>.</li>
<li>If you have found a bug, and can provide steps to reliably reproduce it, open an issue in the /mapbox-gl-native repository on Github and apply the bug label.</li>
<li>If you have a feature request, open an issue in the /mapbox-gl-native repository on Github, and apply the feature label.</li>
<li>If you want to contribute, look over our contribution guild lines and open a pull request with your changes.</li>
</ul>
<h3 id="api-reference">API reference</h3>
<p>All public methods in the Maps SDK project are well documented and can be either viewed inside the source code or directly on the Javadoc (linked below). If you are using a older version of the SDK, you can still access the Javadoc simply by replacing the URL’s version number to the one you are using inside your application.</p>
<ul>
<li><a href="http://mapbox.com/mapbox-java/api/libjava-core/2.0.0-beta.1/">5.0.0 Maps SDK Javadoc</a></li>
</ul>
<h3 id="access-tokens">Access tokens</h3>
<p>An access token is necessary to use the Maps SDK. Your access tokens can be managed in <a href="https://www.mapbox.com/account/apps/">your account settings</a>, where you can retrieve current tokens and generate new ones. You should create a new token for each of your apps, which will help you track usage and minimize disruption in the event a token needs to be revoked.</p>
<p>You’ll want to place the access token inside your application object inside the <code>onCreate()</code> method. To learn more about access tokens, read <a href="https://www.mapbox.com/help/create-api-access-token/">this document</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onCreate();

    <span class="hljs-comment">// Mapbox Access token</span>
    Mapbox.getInstance(getApplicationContext(), <span class="hljs-string">"&lt;your access token&gt;"</span>);
  }
}
</code></pre>
<h2 id="installation">Installation</h2>
<p>To start developing your application using the Maps SDK, a few simple steps must be taken before beginning. Note that while we should how to add the stable version of the SDK inside your project, you can also use the nightly build/snapshot or the beta version, if one is available. The dependency given below can be found on MavenCentral.</p>
<ol>
<li>Start Android Studio</li>
<li>Open up your applications <code>build.gradle</code></li>
<li>Ensure your projects <code>minSdkVersion</code> is at API 15 or higher</li>
<li>Under dependencies add a new build rule for the latest mapbox-android-sdk</li>
<li>Click the Sync Project with Gradle Files near the toolbar in Studio</li>
</ol>
<blockquote>
<p><strong>Note:</strong> If your application is close or exceeds the 65k method count limit, you can mitigate this problem by enabling ProGuard inside your application. ProGuard directives are included in the Android dependencies to preserve the required classes.</p>
</blockquote>
<pre class="hljs"><code>repositories {
  mavenCentral()
}

dependencies {
  compile (<span class="hljs-string">'com.mapbox.mapboxsdk:mapbox-android-sdk:5.0.0@aar'</span>){
      transitive=<span class="hljs-literal">true</span>
  }
}
</code></pre>
<h3 id="permissions">Permissions</h3>
<p>Starting in 5.0, we are making use of the Manifest merge feature which reduces the need to include any Maps SDK required things inside your application’s manifest file. If you plan to display the users location on the map or acquire user location information you’ll need to include either the Fine or Coarse location permission. The user location permission should also be checked during runtime using the PermissionManager.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span>
</code></pre>
<h3 id="lifecycle-methods">Lifecycle methods</h3>
<p>The MapView contains its own lifecycle methods for managing Android’s OpenGL lifecycle that must be called directly from the containing Activity. In order for your app to correctly call the MapView’s lifecycle methods, you must override the following lifecycle methods in the Activity that contains the MapView and call the respective MapView method. For example, in the onStart lifecycle, you’ll call <code>mapView.onStart()</code>.</p>
<pre class="hljs"><code>onCreate();
onStart();
onResume();
onPause();
onStop();
onSaveInstanceState();
onLowMemory();
onDestroy();
</code></pre>
<h3 id="xml-layout">XML layout</h3>
<p>You can optionally include the MapView inside your activities layout or build the MapView dynamically inside your application. We also provide a MapFragment and SupportMapFragment object which makes setting up significantly easier.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">com.mapbox.mapboxsdk.maps.MapView</span>
  <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mapView"</span>
  <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">mapbox:mapbox_styleUrl</span>=<span class="hljs-string">"@string/mapbox_style_mapbox_streets"</span> /&gt;</span>
</code></pre>
<!-- TODO link to dynamically add a map example -->
</div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1490226715362"></script></body></html>