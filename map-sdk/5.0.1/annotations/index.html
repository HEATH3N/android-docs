<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Annotations | Android Documentation</title><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><link href="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.9.1/assembly.min.css" rel="stylesheet"/><script src="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.9.1/assembly.js"></script><style>.bg-denim{background-color:#607d9c!important}.btn{border-radius:0}.txt-s{line-height:inherit}.main-content{position:fixed;top:48px;bottom:0;overflow-y:auto;padding-top:24px;padding-bottom:250px;width:inherit}code p{font-weight:lighter;font-size:11px}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important;font-weight:700!important;font-size:13px!important;word-break:normal!important}pre{background-color:#232323!important}.error,.info,.success,.warning{border-left:5px solid #fd0;padding:10px 15px;margin-left:-20px;margin-right:-15px;background-color:#fafafa;border-radius:2px}.info{border-color:#56adec}body .prose blockquote{border-left:5px solid #56adec;background-color:#fafafa;border-radius:2px;word-wrap:break-word;padding-top:12px;padding-bottom:12px;padding-right:12px}.toc{list-style-type:none;color:#fff;background:#232323;position:fixed;top:42px;bottom:0;overflow-y:auto;padding:24px 20px 20px;width:inherit;border-right:1px solid grey}.toc-subheaders{font-size:12px;display:inline-block;line-height:20px;margin-bottom:12px}.page-hover:hover,.toc-subheaders a:hover{color:#aab7ef}.card-bg{background:#f4f7fb;width:100%;position:fixed;overflow-y:auto}.card-container{top:48px;bottom:0;padding-bottom:100px}.card{background:#fff;border-radius:2px;display:inline-block;height:375px;margin:16px;margin:1rem;position:relative;width:325px;vertical-align:top}.card img{display:block;margin:auto}.card h4,p{margin:12px}.card-1{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.card-1:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="-64753631"><div class="col--12 z1 hmin48 bg-denim shadow-darken50 fixed" data-reactid="2"><div class="align-t hmin48 flex-parent-inline flex-parent--center-cross flex-parent--left-main w240" data-reactid="3"><a href="https://mapbox.com/" data-reactid="4"><div class="ml12 mb-logo--s mb-logo--white" data-reactid="5"></div></a></div><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  is-active" href="/android-docs/map-sdk/5.0.2/getting-started/" data-reactid="6">Map SDK</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/mapbox-services/2.1.0/getting-started/" data-reactid="7">Mapbox Services</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/examples/basics/" data-reactid="8">Examples</a></div><div class="w240 toc" data-reactid="9"><div data-reactid="10"><li data-reactid="11"><a class="page-hover" style="text-decoration:none;" href="/android-docs/map-sdk/5.0.1/getting-started/" data-reactid="12">Map SDK</a></li><!-- react-text: 13 --><!-- /react-text --></div><div data-reactid="14"><li data-reactid="15"><a class="page-hover" style="text-decoration:none;" href="/android-docs/map-sdk/5.0.1/annotations/" data-reactid="16"><strong data-reactid="17">Annotations</strong></a></li><div class="ml12" data-reactid="18"><ul class="toc-subheaders">
<li>
<ul>
<li><a href="#markers">Markers</a>
<ul>
<li><a href="#removing-markers">Removing markers</a></li>
<li><a href="#customize-marker-icon">Customize marker icon</a></li>
<li><a href="#capturing-marker-events">Capturing marker events</a></li>
<li><a href="#update-a-marker">Update a marker</a></li>
</ul>
</li>
<li><a href="#info-window">Info Window</a>
<ul>
<li><a href="#custom-view">Custom view</a></li>
</ul>
</li>
<li><a href="#polyline-and-polygons">Polyline and Polygons</a></li>
</ul>
</li>
</ul>
</div></div><div data-reactid="19"><li data-reactid="20"><a class="page-hover" style="text-decoration:none;" href="/android-docs/map-sdk/5.0.1/offline/" data-reactid="21">Offline</a></li><!-- react-text: 22 --><!-- /react-text --></div></div><div class="ml240 p48" data-reactid="23"><div class="grid" data-reactid="24"><div class="prose scroll-styled main-content" data-reactid="25"><div class="col--10" data-reactid="26"><div class="markdown" data-reactid="27"><h1 data-reactid="28">Annotations</h1><div data-reactid="29"><p>If you are including a Mapbox map inside of your application, chances are that you’d want to add annotations. Annotations are objects drawn either on top of the map or in some cases, within the map itself. These annotations vary from markers to lines to polygons. This document walks you through how to add high level objects. If you’d like more control over annotations, make sure to checkout the runtime styling documentation.</p>
<h2 id="markers"><a class="markdownIt-Anchor" href="#markers"></a> Markers</h2>
<p>Markers are useful when identifying a single point on the map. The SDK comes with a default marker icon which can be configured to fit your specific needs. APIs are exposed to optionally change this icon to any bitmap image you wish. To create a marker for you map, you are only required to provide a <code>LatLng</code> position which defines where the marker will be placed on the map. Call <code>mapboxMap.addMarker()</code> to actually add the marker to the map.</p>
<pre class="hljs"><code>mapboxMap.addMarker(<span class="hljs-keyword">new</span> MarkerOptions()
  .position(<span class="hljs-keyword">new</span> LatLng(<span class="hljs-number">48.85819</span>, <span class="hljs-number">2.29458</span>))
  .title(<span class="hljs-string">"Eiffel Tower"</span>)
  );
</code></pre>
<p>Besides providing the position, you can also add a title and snippet which are displayed inside of an <a href="#info-window">info window</a>. The info window is displayed when users tap on the marker and is closed when they tap outside of the info window.</p>
<p>Add a list of markers using <code>mapboxMap.addMarkers()</code> if you have many markers or are loading them from a GeoJSON file.</p>
<blockquote>
<p><strong>Note:</strong> If you want more control over the behavior of a marker, you can use either the MarkerView API which extends a typical Android view or create a symbol layer using runtime styling.</p>
</blockquote>
<h3 id="removing-markers"><a class="markdownIt-Anchor" href="#removing-markers"></a> Removing markers</h3>
<p>The Mapbox Android SDK comes with two methods for removing markers. If you’d like to remove a specific marker, use <code>mapboxMap.removeMarker()</code> while passing in the marker object to be removed. If you would like to remove <em>all</em> markers, call the <code>mapboxMap.clear()</code> method. Note that this will also remove any polylines and polygons you’ve added to your map.</p>
<h3 id="customize-marker-icon"><a class="markdownIt-Anchor" href="#customize-marker-icon"></a> Customize marker icon</h3>
<p>You can specify a custom icon by using the <code>IconFactory</code> object and passing it to the marker. If you don’t specify an icon while creating your marker, it will be given the default marker icon. The anchoring of the marker will be in the center, meaning if you have an icon with a point, you’ll need to add padding to the bottom of the image.</p>
<p>Place your custom marker image in your project’s drawable folder and note its file name. In the example below, the custom icon’s image file is named blue_marker.png</p>
<pre class="hljs"><code><span class="hljs-comment">// Create an Icon object for the marker to use</span>
IconFactory iconFactory = IconFactory.getInstance(MainActivity.<span class="hljs-keyword">this</span>);
Icon icon = iconFactory.fromResource(R.drawable.blue_marker);

<span class="hljs-comment">// Add the marker to the map</span>
mapboxMap.addMarker(<span class="hljs-keyword">new</span> MarkerViewOptions()
  .position(<span class="hljs-keyword">new</span> LatLng(-<span class="hljs-number">37.821648</span>, <span class="hljs-number">144.978594</span>))
  .icon(icon));
</code></pre>
<h3 id="capturing-marker-events"><a class="markdownIt-Anchor" href="#capturing-marker-events"></a> Capturing marker events</h3>
<p>The Maps SDK provides a handy listener for capturing when a user taps on a marker. By default, all markers come with an onMarkerClick event listener for displaying and hiding info windows. You can override this default event listener and set your own with the <code>setOnMarkerClickListener</code> method.</p>
<p>To display a toast message with the clicked marker’s title, listen for a click event with <code>setOnMarkerClickListener</code> and finally call <code>Toast.makeText()</code>. To prevent displaying a toast message and an info window at the same time, return true at the end:</p>
<pre class="hljs"><code>mapboxMap.setOnMarkerClickListener(<span class="hljs-keyword">new</span> MapboxMap.OnMarkerClickListener() {
  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onMarkerClick</span><span class="hljs-params">(@NonNull Marker marker)</span> </span>{
    Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, marker.getTitle(), Toast.LENGTH_LONG).show();
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
  }
});
</code></pre>
<h3 id="update-a-marker"><a class="markdownIt-Anchor" href="#update-a-marker"></a> Update a marker</h3>
<p>If you have intentions to update a marker rather than completely removing it, the SDK provides a few update methods. This means less boilerplate code and an increase in performance since you are only updating the marker. Using these update APIs, you are able to create animating markers using a <a href="https://developer.android.com/reference/android/animation/ValueAnimator.html">ValueAnimator</a> for example. The APIs for updating either the marker position or icon bitmap can be found inside of your marker object reference.</p>
<pre class="hljs"><code><span class="hljs-comment">// Change the marker location</span>
marker.setPosition(<span class="hljs-keyword">new</span> LatLng(-<span class="hljs-number">37.822884</span>, <span class="hljs-number">144.981916</span>));

<span class="hljs-comment">// Update the marker icon</span>
marker.setIcon(icon);
</code></pre>
<h2 id="info-window"><a class="markdownIt-Anchor" href="#info-window"></a> Info Window</h2>
<p>Info windows are used to display information in a popup window anchored to a marker. Their default behavior is to appear when the marker is tapped and then display a title textview above a snippet textview. An info window is automatically created if you provide a given marker with either a title or a snippet of text. This process is done when first creating the marker object but once built, you are able to update the info window information by using <code>marker.setTitle()</code> for example.</p>
<h3 id="custom-view"><a class="markdownIt-Anchor" href="#custom-view"></a> Custom view</h3>
<p>The Maps SDK also provides an API to customize the contents and design of info windows. You’ll need to create an implementation of the <code>InfoWindowAdapter</code> and then call <code>MapboxMap.setInfoWindowAdapter()</code> passing in your implementation as a parameter. One method is given inside the <code>InfoWindowAdapter</code> called <code>getInfoWindow</code> which gives the attached marker object and returns the info window view.</p>
<h2 id="polyline-and-polygons"><a class="markdownIt-Anchor" href="#polyline-and-polygons"></a> Polyline and Polygons</h2>
<p>Adding a line or polygon to your map is like adding a marker. Due to the nature of these objects, different APIs are exposed, such as polygon color or line width. Instead of taking in a single position, first bundle all your LatLng’s inside a List and then pass them in using the <code>addAll()</code> API.</p>
<pre class="hljs"><code><span class="hljs-comment">// Draw polyline on the map</span>
mapboxMap.addPolyline(<span class="hljs-keyword">new</span> PolylineOptions()
  .addAll(points)
  .color(Color.parseColor(<span class="hljs-string">"#3bb2d0"</span>))
  .width(<span class="hljs-number">2</span>));

<span class="hljs-comment">// Draw a polygon on the map</span>
mapboxMap.addPolygon(<span class="hljs-keyword">new</span> PolygonOptions()
  .addAll(polygon)
  .fillColor(Color.parseColor(<span class="hljs-string">"#3bb2d0"</span>)));
</code></pre>
</div></div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1492563384470"></script></body></html>