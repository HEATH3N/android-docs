<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Map SDK | Android Documentation</title><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><link href="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.9.1/assembly.min.css" rel="stylesheet"/><script src="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.9.1/assembly.js"></script><style>.bg-denim{background-color:#607d9c!important}.btn{border-radius:0}.txt-s{line-height:inherit}.main-content{position:fixed;top:48px;bottom:0;overflow-y:auto;padding-top:24px;width:inherit}code p{font-weight:lighter;font-size:11px}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important;font-weight:700!important;font-size:13px!important;word-break:normal!important}pre{background-color:#232323!important}.error,.info,.success,.warning{border-left:5px solid #fd0;padding:10px 15px;margin-left:-20px;margin-right:-15px;background-color:#fafafa;border-radius:2px}.info{border-color:#56adec}body .prose blockquote{border-left:5px solid #56adec;background-color:#fafafa;border-radius:2px;word-wrap:break-word;padding-top:12px;padding-bottom:12px;padding-right:12px}.toc{list-style-type:none;color:#fff;background:#232323;position:fixed;top:42px;bottom:0;overflow-y:auto;padding:24px 20px 20px;width:inherit;border-right:1px solid grey}.toc-subheaders{font-size:12px;display:inline-block;line-height:20px;margin-bottom:12px}.page-hover:hover,.toc-subheaders a:hover{color:#aab7ef}.card-bg{background:#f4f7fb;width:100%;position:fixed;overflow-y:auto}.card-container{top:48px;bottom:0;padding-bottom:100px}.card{background:#fff;border-radius:2px;display:inline-block;height:375px;margin:16px;margin:1rem;position:relative;width:325px;vertical-align:top}.card img{display:block;margin:auto}.card h4,p{margin:12px}.card-1{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);-webkit-transition:all .3s cubic-bezier(.25,.8,.25,1);transition:all .3s cubic-bezier(.25,.8,.25,1)}.card-1:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="2128238650"><div class="col--12 z1 hmin48 bg-denim shadow-darken50 fixed" data-reactid="2"><div class="align-t hmin48 flex-parent-inline flex-parent--center-cross flex-parent--left-main w240" data-reactid="3"><a href="https://mapbox.com/" data-reactid="4"><div class="ml12 mb-logo--s mb-logo--white" data-reactid="5"></div></a></div><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  is-active" href="/android-docs/map-sdk/5.0.2/getting-started/" data-reactid="6">Map SDK</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/mapbox-services/2.0.0/getting-started/" data-reactid="7">Mapbox Services</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/examples/basics/" data-reactid="8">Examples</a></div><div class="w240 toc" data-reactid="9"><div data-reactid="10"><li data-reactid="11"><a class="page-hover" style="text-decoration:none;" href="/android-docs/map-sdk/5.0.2/getting-started/" data-reactid="12"><strong data-reactid="13">Map SDK</strong></a></li><div class="ml12" data-reactid="14"><ul class="toc-subheaders">
<li>
<ul>
<li>
<ul>
<li><a href="#support-and-contributions">Support and contributions</a></li>
<li><a href="#api-reference">API reference</a></li>
<li><a href="#access-tokens">Access tokens</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a>
<ul>
<li><a href="#permissions">Permissions</a></li>
<li><a href="#lifecycle-methods">Lifecycle methods</a></li>
<li><a href="#adding-mapview">Adding MapView</a></li>
<li><a href="#fragments">Fragments</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></div><div data-reactid="15"><li data-reactid="16"><a class="page-hover" style="text-decoration:none;" href="/android-docs/map-sdk/5.0.2/annotations/" data-reactid="17">Annotations</a></li><!-- react-text: 18 --><!-- /react-text --></div><div data-reactid="19"><li data-reactid="20"><a class="page-hover" style="text-decoration:none;" href="/android-docs/map-sdk/5.0.2/offline/" data-reactid="21">Offline</a></li><!-- react-text: 22 --><!-- /react-text --></div></div><div class="ml240 p48" data-reactid="23"><div class="grid" data-reactid="24"><div class="prose scroll-styled main-content" data-reactid="25"><div class="col--10" data-reactid="26"><div class="markdown" data-reactid="27"><h1 data-reactid="28">Map SDK</h1><div data-reactid="29"><p>The Mapbox Maps SDK is an open source toolset for displaying maps inside of your Android application. <a href="https://play.google.com/store/apps/details?id=com.mapbox.mapboxandroiddemo&amp;hl=en">Mapbox’s demo app on the Google Play Store</a> includes many examples of how to use Mapbox Maps. Various pages in this documentation reference a few of the examples in the demo app.</p>
<h3 id="support-and-contributions"><a class="markdownIt-Anchor" href="#support-and-contributions"></a> Support and contributions</h3>
<ul>
<li>Reach out through <a href="https://stackoverflow.com/questions/tagged/mapbox+android">Stack Overflow</a> or through <a href="https://www.mapbox.com/contact/">the Mapbox contact page</a> if you are looking for support with using this SDK.</li>
<li>If you have found a bug and can provide steps to reliably reproduce it, open an issue in the <a href="https://github.com/mapbox/mapbox-gl-native/issues">/mapbox-gl-native repository on Github</a>. Make sure to apply the bug label to your issue as well.</li>
<li>If you have a feature request, open an issue in the /mapbox-gl-native repository on Github and apply the feature label.</li>
<li>If you want to contribute to this SDK, please read <a href="https://github.com/mapbox/mapbox-gl-native/blob/master/CONTRIBUTING.md">our contribution guidelines</a> and then open a pull request with your changes.</li>
</ul>
<h3 id="api-reference"><a class="markdownIt-Anchor" href="#api-reference"></a> API reference</h3>
<p>All public methods in the Maps SDK project are well documented and can be either viewed inside of the source code or directly on the Javadoc (linked below). If you are using an older version of the SDK, you can still access the Javadoc by replacing the URL’s version number with the one that you are using inside of your application.</p>
<ul>
<li><a href="https://www.mapbox.com/android-docs/api/map-sdk/5.0.2/index.html">5.0.2 Maps SDK Javadoc</a></li>
</ul>
<h3 id="access-tokens"><a class="markdownIt-Anchor" href="#access-tokens"></a> Access tokens</h3>
<p>An access token is necessary to use the Maps SDK. Manage your access tokens in <a href="https://www.mapbox.com/account/apps/">your account settings</a> to retrieve current tokens and generate new ones. You should create a new token for each of your apps, which will help you track usage and decrease disruption in the event that a token needs to be revoked.</p>
<p>You’ll want to place the access token inside of your application object inside the <code>onCreate()</code> method. Read <a href="https://www.mapbox.com/help/create-api-access-token/">this document</a> to learn more about access tokens.</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onCreate();

    <span class="hljs-comment">// Mapbox Access token</span>
    Mapbox.getInstance(getApplicationContext(), <span class="hljs-string">"&lt;your access token&gt;"</span>);
  }
}
</code></pre>
<h2 id="installation"><a class="markdownIt-Anchor" href="#installation"></a> Installation</h2>
<p>Several steps must be taken before you start developing your application with the Maps SDK. Note that while we show how to add the stable version of the SDK inside your project, you can also use the nightly build/snapshot or the beta version, if one is available. The dependency given below can be found on MavenCentral.</p>
<ol>
<li>Start Android Studio</li>
<li>Open up your application’s <code>build.gradle</code></li>
<li>Make sure that your project’s <code>minSdkVersion</code> is at API 15 or higher</li>
<li>Under dependencies, add a new build rule for the latest mapbox-android-sdk</li>
<li>Click the Sync Project with Gradle Files near the toolbar in Studio.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> If your application is close or exceeds the 65k method count limit, you can mitigate this problem by enabling ProGuard inside your application. ProGuard directives are included in the Android dependencies to preserve the required classes.</p>
</blockquote>
<pre class="hljs"><code>repositories {
  mavenCentral()
}

dependencies {
  compile (<span class="hljs-string">'com.mapbox.mapboxsdk:mapbox-android-sdk:5.0.2@aar'</span>){
      transitive=<span class="hljs-literal">true</span>
  }
}
</code></pre>
<h3 id="permissions"><a class="markdownIt-Anchor" href="#permissions"></a> Permissions</h3>
<p>Starting in 5.0, we are making use of the Manifest merge feature to reduce the need to include any Maps SDK required things inside of your application’s manifest file. You’ll need to include <em>either</em> the Fine <strong>or</strong> Coarse location permission, if you plan to display a user’s location on the map or get the user’s location information. The user location permission should also be checked during runtime using the PermissionManager.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span>
</code></pre>
<h3 id="lifecycle-methods"><a class="markdownIt-Anchor" href="#lifecycle-methods"></a> Lifecycle methods</h3>
<p>The MapView contains its own lifecycle methods for managing Android’s OpenGL lifecycle, which must be called directly from the containing Activity. In order for your app to correctly call the MapView’s lifecycle methods, you must override the following lifecycle methods in the Activity that contains the MapView and call the respective MapView method. For example, your onStart() method should look like this:</p>
<pre class="hljs"><code><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStart</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">super</span>.onStart();
  mapView.onStart();
}
</code></pre>
<p>All the lifecycle methods that need to be overridden:</p>
<pre class="hljs"><code>onCreate();
onStart();
onResume();
onPause();
onStop();
onSaveInstanceState();
onLowMemory();
onDestroy();
</code></pre>
<h3 id="adding-mapview"><a class="markdownIt-Anchor" href="#adding-mapview"></a> Adding MapView</h3>
<p>You have the option to include the MapView inside of your layout file <strong>or</strong> build the MapView dynamically inside your application.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">com.mapbox.mapboxsdk.maps.MapView</span>
  <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mapView"</span>
  <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">mapbox:mapbox_styleUrl</span>=<span class="hljs-string">"@string/mapbox_style_mapbox_streets"</span> /&gt;</span>
</code></pre>
<!-- TODO link to dynamically add a map example -->
<h3 id="fragments"><a class="markdownIt-Anchor" href="#fragments"></a> Fragments</h3>
<p>We also provide a MapFragment and SupportMapFragment object which makes dealing with fragments significantly easier</p>
<!-- TODO add fragment example? -->
</div></div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1492093486327"></script></body></html>