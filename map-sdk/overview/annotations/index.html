<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Annotations | Android Documentation</title><meta name="type" data-type="enum" content="Android Documentation"/><meta name="title" data-type="string" content="Annotations | Android Documentation"/><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><link href="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.10.0/assembly.min.css" rel="stylesheet"/><script src="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.10.0/assembly.js"></script><link rel="stylesheet" href="stylesheet.css" type="text/css"/><style>.border--3{border-width:3px!important}.bg-green{background-color:#8cca44!important}.icon-android-green svg{color:#8cca44}.bright-blue-color{color:#0082ff}.bright-blue-color-on-hover:hover{color:#0082ff!important}.border--bright-blue-color{border-color:#273d56}.border--gray-less-faint{border-color:#e8ebee!important}.bright-blue-color-on-hover-anchor a:hover{color:#0082ff}.hmax130 img{max-height:130px}.wmax260{max-width:260px}.text-decoration-none{text-decoration:none!important}.unstyled-list li{list-style-type:none!important}.overflow-y{overflow-y:auto}.t48{top:48px}.b0{bottom:0}.txt-ms{font-size:13px!important;line-height:18px}td,th{text-align:left!important;padding:4px!important;font-size:12px!important}th{background-color:#e8ebee}code,pre,td{font-weight:400!important;font-size:12px!important}.limiter{padding-left:24px;padding-right:24px;width:100%}@media (min-width:1200px){.limiter{padding-left:12.5%!important;padding-right:12.5%!important}}.prose h1,h2,h3,h4,h5,h6{font-weight:400!important}@media (min-width:440px){.note-card{margin-top:-12px;width:240px;margin-left:24px;padding-bottom:24px}}code{font-weight:400}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important}code,pre{font-size:12px!important;word-break:normal!important}pre{font-weight:700;background-color:#232323!important}.doc-ul>.doc-ul-item:before{content:"";width:8px;height:8px;border-radius:2px;border:1px solid #1f3349;opacity:.4;position:absolute;margin:9px 0 0 -20px}.doc-ol{counter-reset:listItem}.doc-ol>.doc-ol-item{margin:3px 0}ol li{list-style-type:none}ol li:before{counter-increment:listItem;content:counter(listItem);font-size:12px;border-radius:3px;padding:1px 6px;border:1px solid #c6d2e1;margin-right:12px}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="-1674798335"><div class="z1 min48 flex-parent--center-main flex-parent w-full border-b border-t bg-white border--gray-less-faint fixed" data-reactid="2"><div class="wmax1200 w-full pl24 pr24 flex-parent--space-between-main flex-parent" data-reactid="3"><div class="flex-child col col--6 inline-block" data-reactid="4"><div class="txt-s py12 bg-transparent btn px0 color-gray-light" data-reactid="5"><strong data-reactid="6">Platform</strong></div><div class="txt-s py12 bg-transparent btn  color-gray-dark" data-reactid="7"><strong data-reactid="8">Android</strong></div><div class="txt-s py12 bg-transparent btn px0 color-gray-light" data-reactid="9"><strong data-reactid="10">Product</strong></div><div style="display:inline-block;" data-reactid="11"><button class="txt-s py12 border--bright-blue-color bright-blue-color-on-hover bg-transparent btn flex-parent flex-parent--center-cross color-gray-dark" data-reactid="12"><strong data-reactid="13">Map SDK</strong><svg class="icon" data-reactid="14"><use xlink:href="#icon-chevron-down" data-reactid="15"></use></svg></button></div></div><div class="flex-child col col--6 flex-parent flex-parent--end-main" data-reactid="16"><a class="py12 transition mobile-right-nav unround btn color-gray-dark border--bright-blue-color bright-blue-color-on-hover bg-transparent txt-s  border-b border--3" href="/android-docs/map-sdk/overview/" data-reactid="17">Overview</a><a class="py12 transition mobile-right-nav unround btn color-gray-dark border--bright-blue-color bright-blue-color-on-hover bg-transparent txt-s  " href="/android-docs/map-sdk/examples/" data-reactid="18">Examples</a><a class="py12 transition mobile-right-nav unround btn color-gray-dark border--bright-blue-color bright-blue-color-on-hover bg-transparent txt-s  " href="/android-docs/map-sdk/tutorials/" data-reactid="19">Tutorials</a></div></div></div><div class="scroll-styled flex-parent--center-main flex-parent limiter pb96 pl24 pr24 pt24 overflow-y t48 b0 fixed flex-child" data-reactid="20"><div class="flex-parent--space-between-main flex-parent" data-reactid="21"><div class="col col--2 pt42 pr18 pb18 flex-child--no-shrink fixed color-gray-dark unstyled-list scroll-styled" data-reactid="22"><div data-reactid="23"><li class="txt-bold txt-fancy" data-reactid="24"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/" data-reactid="25">Map SDK</a></li><!-- react-text: 26 --><!-- /react-text --></div><div data-reactid="27"><li class="txt-bold txt-fancy" data-reactid="28"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/styling-map/" data-reactid="29">Styling the map</a></li><!-- react-text: 30 --><!-- /react-text --></div><div data-reactid="31"><li class="txt-bold txt-fancy" data-reactid="32"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/annotations/" data-reactid="33"><div class="bright-blue-color" data-reactid="34">Annotations</div></a></li><div class="ml6 pt6" data-reactid="35"><ul class="txt-s inline-block mb12 bright-blue-color-on-hover-anchor">
<li>
<ul>
<li><a href="#markers">Markers</a></li>
<li><a href="#info-window">Info Window</a></li>
<li><a href="#polyline-and-polygons">Polyline and Polygons</a></li>
</ul>
</li>
</ul>
</div></div><div data-reactid="36"><li class="txt-bold txt-fancy" data-reactid="37"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/events/" data-reactid="38">Events</a></li><!-- react-text: 39 --><!-- /react-text --></div><div data-reactid="40"><li class="txt-bold txt-fancy" data-reactid="41"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/offline/" data-reactid="42">Offline</a></li><!-- react-text: 43 --><!-- /react-text --></div><div data-reactid="44"><li class="txt-bold txt-fancy" data-reactid="45"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/runtime-styling/" data-reactid="46">Runtime Styling</a></li><!-- react-text: 47 --><!-- /react-text --></div><!-- react-text: 48 --><!-- /react-text --><div class="flex-parent wmin180 pb12 flex-parent--column" data-reactid="49"><a href="/android-docs/api/map-sdk/5.0.2/index.html" class="txt-fancy bright-blue-color-on-hover" data-reactid="50">API Reference</a></div><!-- react-text: 51 --><!-- /react-text --></div><div data-reactid="52"><div class="prose color-gray-dark" data-reactid="53"><div class="content col--9 col col--offl3" data-reactid="54"><div class="pt12 doc-ul doc-ol pb96 wmax1200 doc-ol-item" data-reactid="55"><div class="markdown" data-reactid="56"><div data-reactid="57"><h1 id="annotations"><a class="markdownIt-Anchor" href="#annotations"></a> Annotations</h1>
<p>The Map SDK provides several different ways to mark a single point, add a line between many points, or draw a polygon. Often, these objects are drawn either on top of the map or in some cases, within the map itself. This document walks you through how to add high-level objects. If youâ€™d like more control over annotations, make sure to check out the <a href="">runtime styling</a> documentation.</p>
<h3 id="markers"><a class="markdownIt-Anchor" href="#markers"></a> Markers</h3>
<p>Markers are useful when identifying a single point on the map. The SDK comes with a default marker icon which can be configured to fit your specific needs. APIs are exposed to optionally change this icon to any bitmap image you wish. To create a marker for you map, you are only required to provide a <code>LatLng</code> position which defines where the marker will be placed on the map. Call <code>mapboxMap.addMarker()</code> to actually add the marker to the map.</p>
<pre class="hljs"><code>mapboxMap.addMarker(<span class="hljs-keyword">new</span> MarkerOptions()
  .position(<span class="hljs-keyword">new</span> LatLng(<span class="hljs-number">48.85819</span>, <span class="hljs-number">2.29458</span>))
  .title(<span class="hljs-string">"Eiffel Tower"</span>)
  );
</code></pre>
<div class="fr flex-parent">
  <a href="https://github.com/mapbox/mapbox-android-demo/blob/master/MapboxAndroidDemo/src/main/java/com/mapbox/mapboxandroiddemo/examples/annotations/BasicMarkerViewActivity.java" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p12">
        <div class="txt-s txt-bold">
          Marker views
          <span class="txt-xs txt-bold align-middle px6 color-blue round bg-blue-faint">EXAMPLE</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          Control more marker behavior using the MarkerView API which extends a typical Android view.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>Besides providing the position, you can also add a title and snippet which display inside of an <a href="#info-window">info window</a>. The info window is displayed when users tap on the marker and close when they tap outside of the info window.</p>
<p>Add a list of markers using <code>mapboxMap.addMarkers()</code> if you have many markers or are loading them from a GeoJSON file.</p>
<h4 id="removing-markers"><a class="markdownIt-Anchor" href="#removing-markers"></a> Removing markers</h4>
<p>The Mapbox Android SDK comes with two methods for removing markers. If youâ€™d like to remove a particular marker, use <code>mapboxMap.removeMarker()</code> while passing in the marker object to be removed. If you would like to remove <em>all</em> markers, call the <code>mapboxMap.clear()</code> method. Note that this will also remove any polylines and polygons youâ€™ve added to your map.</p>
<h4 id="customize-marker-icon"><a class="markdownIt-Anchor" href="#customize-marker-icon"></a> Customize marker icon</h4>
<p>You can specify a custom icon by using the <code>IconFactory</code> object and passing it to the marker. The default marker iconâ€™s used if you donâ€™t specify an icon while creating your marker. The anchoring of the marker will be in the center, meaning if you have an icon with a point, youâ€™ll need to add padding to the bottom of the image.</p>
<p>Place your custom marker image in your projectâ€™s drawable folder and note its file name. In the example below, the custom iconâ€™s image fileâ€™s called <code>blue_marker.png</code></p>
<pre class="hljs"><code><span class="hljs-comment">// Create an Icon object for the marker to use</span>
IconFactory iconFactory = IconFactory.getInstance(MainActivity.<span class="hljs-keyword">this</span>);
Icon icon = iconFactory.fromResource(R.drawable.blue_marker);

<span class="hljs-comment">// Add the marker to the map</span>
mapboxMap.addMarker(<span class="hljs-keyword">new</span> MarkerViewOptions()
  .position(<span class="hljs-keyword">new</span> LatLng(-<span class="hljs-number">37.821648</span>, <span class="hljs-number">144.978594</span>))
  .icon(icon));
</code></pre>
<h4 id="capturing-marker-events"><a class="markdownIt-Anchor" href="#capturing-marker-events"></a> Capturing marker events</h4>
<p>The Maps SDK provides a handy listener for capturing when a user taps on a marker. By default, all markers come with an onMarkerClick event listener for displaying and hiding info windows. You can override this default event listener and set your own with the <code>setOnMarkerClickListener</code> method.</p>
<p>To display a toast message with the clicked markerâ€™s title, listen for a click event with <code>setOnMarkerClickListener</code> and finally call <code>Toast.makeText()</code>. To prevent displaying a toast message and an info window at the same time, return true at the end:</p>
<pre class="hljs"><code>mapboxMap.setOnMarkerClickListener(<span class="hljs-keyword">new</span> MapboxMap.OnMarkerClickListener() {
  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onMarkerClick</span><span class="hljs-params">(@NonNull Marker marker)</span> </span>{
    Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, marker.getTitle(), Toast.LENGTH_LONG).show();
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
  }
});
</code></pre>
<h4 id="update-a-marker"><a class="markdownIt-Anchor" href="#update-a-marker"></a> Update a marker</h4>
<div class="fr flex-parent">
  <a href="https://github.com/mapbox/mapbox-android-demo/blob/master/MapboxAndroidDemo/src/main/java/com/mapbox/mapboxandroiddemo/examples/annotations/BasicMarkerViewActivity.java" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p12">
        <div class="txt-s txt-bold">
          Animate marker
          <span class="txt-xs txt-bold align-middle px6 color-blue round bg-blue-faint">EXAMPLE</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          Use a ValueAnimator to animate a marker between two positions.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>If you have intentions to update a marker rather than completely removing it, the SDK provides a few update methods. Using these mean less boilerplate code and an increase in performance since you are only updating the marker. Using these update APIs, you can create animating markers using a <a href="https://developer.android.com/reference/android/animation/ValueAnimator.html">ValueAnimator</a> for example. The APIs for updating either the marker position or icon bitmap are found inside of your marker object reference.</p>
<pre class="hljs"><code><span class="hljs-comment">// Change the marker location</span>
marker.setPosition(<span class="hljs-keyword">new</span> LatLng(-<span class="hljs-number">37.822884</span>, <span class="hljs-number">144.981916</span>));

<span class="hljs-comment">// Update the marker icon</span>
marker.setIcon(icon);
</code></pre>
<h3 id="info-window"><a class="markdownIt-Anchor" href="#info-window"></a> Info Window</h3>
<p>Info windows are used to display information in a popup window anchored to a marker. Their default behavior is to appear when the marker is tapped and then show a title text view above a snippet text view. An info window gets created if you provide a given marker with either a title or a snippet of text. If you need to add an info window at a later time or need to update the title, for example, use <code>marker.setTitle()</code>.</p>
<h4 id="custom-view"><a class="markdownIt-Anchor" href="#custom-view"></a> Custom view</h4>
<div class="fr flex-parent">
  <a href="https://github.com/mapbox/mapbox-android-demo/blob/master/MapboxAndroidDemo/src/main/java/com/mapbox/mapboxandroiddemo/examples/annotations/CustomInfoWindowActivity.java" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p18">
        <div class="txt-s txt-bold">
          Custom info window
          <span class="txt-xs txt-bold align-middle px6 color-blue round bg-blue-faint">EXAMPLE</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          Take advantage of the info window adapter to customize the info window.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>The Maps SDK also provides an API to customize the contents and design of info windows. Youâ€™ll need to create an implementation of the <code>InfoWindowAdapter</code> and then call <code>MapboxMap.setInfoWindowAdapter()</code> and pass in your implementation as a parameter.  Inside the <code>InfoWindowAdapter</code>, a method called <code>getInfoWindow</code> gives the attached marker object and returns the info window view.</p>
<h3 id="polyline-and-polygons"><a class="markdownIt-Anchor" href="#polyline-and-polygons"></a> Polyline and Polygons</h3>
<p>Adding a line or polygon to your map is like adding a marker. Due to the nature of these objects, different APIs are exposed, such as polygon color or line width. Instead of taking in a single position,  bundle all your LatLngâ€™s inside a List and then pass them in using the <code>addAll()</code> API.</p>
<pre class="hljs"><code><span class="hljs-comment">// Draw polyline on the map</span>
mapboxMap.addPolyline(<span class="hljs-keyword">new</span> PolylineOptions()
  .addAll(points)
  .color(Color.parseColor(<span class="hljs-string">"#3bb2d0"</span>))
  .width(<span class="hljs-number">2</span>));

<span class="hljs-comment">// Draw a polygon on the map</span>
mapboxMap.addPolygon(<span class="hljs-keyword">new</span> PolygonOptions()
  .addAll(polygon)
  .fillColor(Color.parseColor(<span class="hljs-string">"#3bb2d0"</span>)));
</code></pre>
</div></div></div></div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1497995550762"></script></body></html>