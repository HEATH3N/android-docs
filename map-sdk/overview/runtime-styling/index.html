<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Runtime Styling | Android Documentation</title><meta class="swiftype" name="type" data-type="enum" content="Android Documentation"/><meta class="swiftype" name="title" data-type="string" content="Runtime Styling | Android Documentation"/><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><link href="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.10.0/assembly.min.css" rel="stylesheet"/><script src="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.10.0/assembly.js"></script><link rel="stylesheet" href="stylesheet.css" type="text/css"/><style>.border--3{border-width:3px!important}.bg-green{background-color:#8cca44!important}.icon-android-green svg{color:#8cca44}.bright-blue-color{color:#0082ff}.bright-blue-color-on-hover:hover{color:#0082ff!important}.border--bright-blue-color{border-color:#273d56}.border--gray-less-faint{border-color:#e8ebee!important}.bright-blue-color-on-hover-anchor a:hover{color:#0082ff}.hmax130 img{max-height:130px}.wmax260{max-width:260px}.text-decoration-none{text-decoration:none!important}.unstyled-list li{list-style-type:none!important}.overflow-y{overflow-y:auto}.t48{top:48px}.b0{bottom:0}.txt-ms{font-size:13px!important;line-height:18px}td,th{text-align:left!important;padding:4px!important;font-size:12px!important}th{background-color:#e8ebee}code,pre,td{font-weight:400!important;font-size:12px!important}.limiter{padding-left:24px;padding-right:24px;width:100%}@media (min-width:1200px){.limiter{padding-left:12.5%!important;padding-right:12.5%!important}}.prose h1,h2,h3,h4,h5,h6{font-weight:400!important}@media (min-width:440px){.note-card{margin-top:-12px;width:240px;margin-left:24px;padding-bottom:0!important}}.note-card{padding-bottom:24px}code{font-weight:400}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important}code,pre{font-size:12px!important;word-break:normal!important}pre{font-weight:700;background-color:#232323!important}.doc-ul>.doc-ul-item:before{content:"";width:8px;height:8px;border-radius:2px;border:1px solid #1f3349;opacity:.4;position:absolute;margin:9px 0 0 -20px}.doc-ol{counter-reset:listItem}.doc-ol>.doc-ol-item{margin:3px 0}ol li{list-style-type:none}ol li:before{counter-increment:listItem;content:counter(listItem);font-size:12px;border-radius:3px;padding:1px 6px;border:1px solid #c6d2e1;margin-right:12px}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="-757952367"><div class="z1 h48 flex-parent--center-main flex-parent w-full border-b border-t bg-white border--gray-less-faint fixed" data-reactid="2"><div class="wmax1200 w-full pl24 pr24 flex-parent--space-between-main flex-parent" data-reactid="3"><div class="flex-child col col--6 inline-block" data-reactid="4"><div class="txt-s py12 bg-transparent btn px0 color-gray-light" data-reactid="5"><strong data-reactid="6">Platform</strong></div><div style="display:inline-block;" data-reactid="7"><button class="txt-s py12 border--bright-blue-color bright-blue-color-on-hover bg-transparent btn flex-parent flex-parent--center-cross color-gray-dark" data-reactid="8"><strong data-reactid="9">Android</strong><svg class="icon" data-reactid="10"><use xlink:href="#icon-chevron-down" data-reactid="11"></use></svg></button></div><div class="txt-s py12 bg-transparent btn px0 color-gray-light" data-reactid="12"><strong data-reactid="13">Product</strong></div><div style="display:inline-block;" data-reactid="14"><button class="txt-s py12 border--bright-blue-color bright-blue-color-on-hover bg-transparent btn flex-parent flex-parent--center-cross color-gray-dark" data-reactid="15"><strong data-reactid="16">Map SDK</strong><svg class="icon" data-reactid="17"><use xlink:href="#icon-chevron-down" data-reactid="18"></use></svg></button></div></div><div class="flex-child col col--6 flex-parent flex-parent--end-main" data-reactid="19"><a class="py12 transition mobile-right-nav unround btn color-gray-dark border--bright-blue-color bright-blue-color-on-hover bg-transparent txt-s  border-b border--3" href="/android-docs/map-sdk/overview/" data-reactid="20">Overview</a><a class="py12 transition mobile-right-nav unround btn color-gray-dark border--bright-blue-color bright-blue-color-on-hover bg-transparent txt-s  " href="/android-docs/map-sdk/examples/" data-reactid="21">Examples</a><a class="py12 transition mobile-right-nav unround btn color-gray-dark border--bright-blue-color bright-blue-color-on-hover bg-transparent txt-s  " href="/android-docs/map-sdk/tutorials/" data-reactid="22">Tutorials</a></div></div></div><div class="scroll-styled flex-parent--center-main flex-parent limiter pb96 pl24 pr24 pt24 overflow-y t48 b0 fixed flex-child" data-reactid="23"><div class="flex-parent--space-between-main flex-parent" data-reactid="24"><div class="col col--2 pt42 pr18 pb18 flex-child--no-shrink fixed color-gray-dark unstyled-list scroll-styled" data-reactid="25"><div data-reactid="26"><li class="txt-bold txt-fancy" data-reactid="27"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/" data-reactid="28">Map SDK</a></li><!-- react-text: 29 --><!-- /react-text --></div><div data-reactid="30"><li class="txt-bold txt-fancy" data-reactid="31"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/styling-map/" data-reactid="32">Styling the map</a></li><!-- react-text: 33 --><!-- /react-text --></div><div data-reactid="34"><li class="txt-bold txt-fancy" data-reactid="35"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/annotations/" data-reactid="36">Annotations</a></li><!-- react-text: 37 --><!-- /react-text --></div><div data-reactid="38"><li class="txt-bold txt-fancy" data-reactid="39"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/events/" data-reactid="40">Events</a></li><!-- react-text: 41 --><!-- /react-text --></div><div data-reactid="42"><li class="txt-bold txt-fancy" data-reactid="43"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/offline/" data-reactid="44">Offline</a></li><!-- react-text: 45 --><!-- /react-text --></div><div data-reactid="46"><li class="txt-bold txt-fancy" data-reactid="47"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/query-map/" data-reactid="48">Query Map Features</a></li><!-- react-text: 49 --><!-- /react-text --></div><div data-reactid="50"><li class="txt-bold txt-fancy" data-reactid="51"><a class="bright-blue-color-on-hover text-decoration-none" href="/android-docs/map-sdk/overview/runtime-styling/" data-reactid="52"><div class="bright-blue-color" data-reactid="53">Runtime Styling</div></a></li><div class="ml6 pt6" data-reactid="54"><ul class="txt-s inline-block mb12 bright-blue-color-on-hover-anchor">
<li>
<ul>
<li><a href="#sources">Sources</a></li>
<li><a href="#layers">Layers</a></li>
<li><a href="#filtering">Filtering</a></li>
<li><a href="#modify-properties">Modify Properties</a></li>
<li><a href="#capturing-click-events">Capturing click events</a></li>
</ul>
</li>
</ul>
</div></div><!-- react-text: 55 --><!-- /react-text --><div class="flex-parent wmin180 pb12 flex-parent--column" data-reactid="56"><a href="/android-docs/api/map-sdk/5.1.0/index.html" class="txt-fancy bright-blue-color-on-hover" data-reactid="57">API Reference</a></div><!-- react-text: 58 --><!-- /react-text --></div><div data-reactid="59"><div class="prose color-gray-dark" data-reactid="60"><div class="content col--9 col col--offl3" data-reactid="61"><div class="pt12 doc-ul doc-ol pb96 wmax1200 doc-ol-item" data-reactid="62"><div class="markdown" data-reactid="63"><div data-reactid="64"><h1 id="runtime-styling"><a class="markdownIt-Anchor" href="#runtime-styling"></a> Runtime Styling</h1>
<div class="fr flex-parent">
  <a href="https://www.mapbox.com/mapbox-gl-js/style-spec/" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p12">
        <div class="txt-s txt-bold">
          Style Spec Info
          <span class="txt-xs txt-bold align-middle px6 color-purple round bg-purple-faint">GUIDE</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          View a full list of the features in runtime styling not specific to Android.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>Using Runtime styling, you’re able to dynamically change the look and feel of your map in real time. Lighten or darken the map based on the time of day, personalize icons and the colors of parks based on your users’ activity, switch languages on the fly, or bump the size of labels based on user preferences to improve legibility. Style existing map data or mix in your own – Runtime Styling is performant even with massive datasets.</p>
<p>Runtime styling expands upon the design power of Mapbox Studio and exposes all the same properties and attributes directly to mobile developers in our SDK.</p>
<p>If you’d like to add simple annotations on your map quickly, you might want to make use of the <a href="/map-sdk/overview/annotations/">annotations offered</a>.</p>
<h3 id="sources"><a class="markdownIt-Anchor" href="#sources"></a> Sources</h3>
<p>Sources hold the data for layers to use in your map. There are a handful of different source types supported, choosing one depends on your data type. Adding a source won’t instantly make data appear on the map because sources don’t contain styling details like color or width. Layers refer to a source and give it a visual representation.</p>
<p>When creating a new source, two parameters are required, a source ID (String) and the source date.</p>
<h4 id="vector"><a class="markdownIt-Anchor" href="#vector"></a> Vector</h4>
<p>Vector source tiles must be in <a href="https://www.mapbox.com/developers/vector-tiles/">Mapbox Vector Tile format</a>. All layers that use a vector source must specify a “source-layer” value. For vector tiles hosted by Mapbox, the “url” value should be of the form <code>mapbox://mapid</code>.</p>
<pre class="hljs"><code><span class="hljs-comment">// Adding a vector source layer</span>
VectorSource vectorSource = <span class="hljs-keyword">new</span> VectorSource(<span class="hljs-string">"vector-source"</span>, <span class="hljs-string">"mapbox://mapbox.mapbox-terrain-v2"</span>);
mapboxMap.addSource(vectorSource);
</code></pre>
<h4 id="raster"><a class="markdownIt-Anchor" href="#raster"></a> Raster</h4>
<p>Raster source tiles can be added to your map if they are in TileJSON format. If hosted by Mapbox, the “url” value should be of the form <code>mapbox://mapid</code>.</p>
<pre class="hljs"><code><span class="hljs-comment">// Adding a raster source layer</span>
RasterSource rasterSource = <span class="hljs-keyword">new</span> RasterSource(<span class="hljs-string">"raster-source"</span>, <span class="hljs-string">"mapbox://mapbox.u8yyzaor"</span>);
mapboxMap.addSource(rasterSource);
</code></pre>
<h4 id="geojson"><a class="markdownIt-Anchor" href="#geojson"></a> GeoJson</h4>
<div class="fr flex-parent">
  <a href="https://github.com/mapbox/mapbox-android-demo/blob/master/MapboxAndroidDemo/src/main/java/com/mapbox/mapboxandroiddemo/examples/styles/LineLayerActivity.java" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p12">
        <div class="txt-s txt-bold">
          Add a GeoJSON source
          <span class="txt-xs txt-bold align-middle px6 color-blue round bg-blue-faint">EXAMPLE</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          Create a GeoJSON feature collection dynamically and then add it as a map source.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>Adding a GeoJSON source can be done in a few different ways. Providing a URL to the GeoJSON raw data hosted online (or locally inside the assets folder for example) or you can build your own GeoJSON feature collection directly inside the code. The snippets of code below show the different ways to add a GeoJSON source to your map.</p>
<p>Add a GeoJSON source from URL:</p>
<pre class="hljs"><code>URL geoJsonUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">"https://url-to-geojson-file.geojson"</span>);
GeoJsonSource geoJsonSource = <span class="hljs-keyword">new</span> GeoJsonSource(<span class="hljs-string">"geojson-source"</span>, geoJsonUrl);
mapboxMap.addSource(geoJsonSource);
</code></pre>
<p>Load a locally stored GeoJSON file and add it to your map as a source:</p>
<pre class="hljs"><code><span class="hljs-comment">// Either use the method provided below or your preferred way of loading in a JSON file.</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">loadJsonFromAsset</span><span class="hljs-params">(String filename)</span> <span class="hljs-keyword">throws</span> IOException </span>{
  <span class="hljs-comment">// loads in GeoJSON files from the assets folder.</span>
  InputStream is = getAssets().open(filename);
  <span class="hljs-keyword">int</span> size = is.available();
  <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[size];
  is.read(buffer);
  is.close();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(buffer, <span class="hljs-string">"UTF-8"</span>);
}

GeoJsonSource source = <span class="hljs-keyword">new</span> GeoJsonSource(<span class="hljs-string">"geojson-source"</span>, loadJsonFromAsset(<span class="hljs-string">"local_file.geojson"</span>));
mapboxMap.addSource(indoorBuildingSource);
</code></pre>
<p>Create a GeoJSON feature collection and then add it to your map:</p>
<pre class="hljs"><code><span class="hljs-comment">// Create a list to store our line coordinates.</span>
List routeCoordinates = <span class="hljs-keyword">new</span> ArrayList&lt;Position&gt;();
routeCoordinates.add(Position.fromCoordinates(-<span class="hljs-number">118.394391</span>, <span class="hljs-number">33.397676</span>));
routeCoordinates.add(Position.fromCoordinates(-<span class="hljs-number">118.370917</span>, <span class="hljs-number">33.391142</span>));

<span class="hljs-comment">// Create the LineString from the list of coordinates and then make a GeoJSON</span>
<span class="hljs-comment">// FeatureCollection so we can add the line to our map as a layer.</span>
LineString lineString = LineString.fromCoordinates(routeCoordinates);
FeatureCollection featureCollection =
  FeatureCollection.fromFeatures(<span class="hljs-keyword">new</span> Feature[]{Feature.fromGeometry(lineString)});

GeoJsonSource geoJsonSource = <span class="hljs-keyword">new</span> GeoJsonSource(<span class="hljs-string">"geojson-source"</span>, featureCollection);
mapboxMap.addSource(geoJsonSource);
</code></pre>
<div class="fr flex-parent">
  <a href="https://github.com/mapbox/mapbox-android-demo/blob/master/MapboxAndroidDemo/src/main/java/com/mapbox/mapboxandroiddemo/examples/styles/LineLayerActivity.java" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card  flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p12">
        <div class="txt-s txt-bold">
          Runtime Animations
          <span class="txt-xs txt-bold align-middle px6 color-red round bg-red-faint">TUTORIAL</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          Android tutorial walking through various ways to animate map sources and layers.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>A benefit of having your data inside a GeoJSON source is that you can update, remove, or add additional features inside the source at any time, providing a solution to animating data in your map through the Runtime Styling API. For example, using an Android <a href="https://developer.android.com/reference/android/animation/ValueAnimator.html">ValueAnimator</a>, you can move a feature by updating its coordinates within the GeoJSON data.</p>
<!-- NOTE link to GoJSON plugin -->
<h3 id="layers"><a class="markdownIt-Anchor" href="#layers"></a> Layers</h3>
<p>While sources hold the data, layers are used to style and display the information. Several layer types are offered depending on your source geometry. Except for layers of the background type, each layer needs to refer to a source. You can optionally filter features and then define how those features are styled.</p>
<p>Each layer offers a <code>setProperties</code> API which can be used to style the layer in many different ways. Note that instead of creating different layers depending on certain cases inside your source data, it’s recommended to use data-driven styling instead to reduce the number of layers the map needs to render.</p>
<h4 id="background"><a class="markdownIt-Anchor" href="#background"></a> Background</h4>
<p>The background layer type is unique in that it doesn’t require a source. Background layers can be a solid color or a pattern.</p>
<pre class="hljs"><code>BackgroundLayer backgroundLayer = <span class="hljs-keyword">new</span> BackgroundLayer(<span class="hljs-string">"background-layer"</span>);
backgroundLayer.setProperties(
  PropertyFactory.backgroundColor(Color.BLUE)
);
</code></pre>
<h4 id="fill"><a class="markdownIt-Anchor" href="#fill"></a> Fill</h4>
<p>Fill layers have an enclosed shape geometry that can be useful for marking areas on a map. The geometry’s similar to a line layer consisting of a series of coordinates in a particular order with the first and last points having the same coordinate.</p>
<pre class="hljs"><code>FillLayer fillLayer = <span class="hljs-keyword">new</span> FillLayer(<span class="hljs-string">"layer-id"</span>, <span class="hljs-string">"source-id"</span>);
fillLayer.setProperties(
  PropertyFactory.fillColor(Color.GREEN)
);
</code></pre>
<p>To alter the shape of the geometry once you have added it, the layer can remain with no changes needed, only the source it’s using should be updated. The layer will always display the latest updates inside its source.</p>
<!-- NOTE will a none enclosed polygon fill be closed automatically? -->
<!-- NOTE talk about mapboxMap.getLayers(); -->
<!-- NOTE talk about mapboxMap.addLayerBelow(); -->
<h4 id="line"><a class="markdownIt-Anchor" href="#line"></a> Line</h4>
<div class="fr flex-parent">
  <a href="https://github.com/mapbox/mapbox-android-demo/blob/master/MapboxAndroidDemo/src/main/java/com/mapbox/mapboxandroiddemo/examples/styles/LineLayerActivity.java" class="text-decoration-none flex-child--no-shrink mt6 color-blue-on-hover note-card flex-child-mxl">
    <div class="border round wmax360 border--gray-light flex-parent">
      <div class="flex-child p12">
        <div class="txt-s txt-bold">
          Create and Display Line Layer
          <span class="txt-xs txt-bold align-middle px6 color-purple round bg-purple-faint">GUIDE</span>
        </div>
        <div class="txt-s mt3 mb0 color-gray">
          Build a GeoJSON FeatureCollection with the line geometry and then display it on the map using a line layer.
        </div>
      </div>
      <div class="flex-child flex-child--no-shrink w18 fr border-l border--gray-light flex-parent flex-parent--center-cross">
        <svg class='flex-child align-middle icon--l'><use xlink:href='#icon-chevron-right'/></svg>
      </div>
    </div>
  </a>
</div>
<p>A series of coordinates can be combined to create a line segment that shows on a map. Between each pair of coordinates, a line segment’s created which gets drawn straight and connects the two points.</p>
<!-- NOTE add something visual here building the line layer? -->
<p>Before beginning, you’ll want to ensure that the Source your layer will be using has lineStrings as part of its geometry, an example creating this can be seen in the GeoJSON source section. Once the source has been created and added to the map, a lineLayer can be initiated, and properties can be set.</p>
<pre class="hljs"><code>LineLayer lineLayer = <span class="hljs-keyword">new</span> LineLayer(<span class="hljs-string">"line-layer"</span>, <span class="hljs-string">"line-source"</span>);

<span class="hljs-comment">// The layer properties for our line. This is where we make the line dotted, set the</span>
<span class="hljs-comment">// color, etc.</span>
lineLayer.setProperties(
  PropertyFactory.lineDasharray(<span class="hljs-keyword">new</span> Float[]{<span class="hljs-number">0.01f</span>, <span class="hljs-number">2f</span>}),
  PropertyFactory.lineCap(Property.LINE_CAP_ROUND),
  PropertyFactory.lineJoin(Property.LINE_JOIN_ROUND),
  PropertyFactory.lineWidth(<span class="hljs-number">5f</span>),
  PropertyFactory.lineColor(Color.parseColor(<span class="hljs-string">"#e55e5e"</span>))
);

mapboxMap.addLayer(lineLayer);
</code></pre>
<h4 id="symbol"><a class="markdownIt-Anchor" href="#symbol"></a> Symbol</h4>
<p>Symbol layers indicate a single position on the map with either an icon or text label. Similar to GL Markers and Marker Views, the symbol layer can represent the same data and offers the most power for in map displaying. To begin with, we will show how to add a marker image to the map and then display it as your symbol layer.</p>
<pre class="hljs"><code>Bitmap icon = BitmapFactory.decodeResource(getResources(), R.drawable.my_marker_icon);
mapboxMap.addImage(<span class="hljs-string">"my-marker-image"</span>, icon);

SymbolLayer symbolLayer = <span class="hljs-keyword">new</span> SymbolLayer(<span class="hljs-string">"layer-id"</span>, <span class="hljs-string">"source-id"</span>);
symbolLayer.setProperties(
  PropertyFactory.iconImage(<span class="hljs-string">"my-marker-image"</span>)
);

mapboxMap.addLayer(symbolLayer);
</code></pre>
<p>Not only can symbol layers mark locations on the map using an image, but they can also display text directly on the map. Text symbol layers are done in a similar process to the image snippet given above, only the properties of the layer change.</p>
<pre class="hljs"><code>SymbolLayer selectedMarker = <span class="hljs-keyword">new</span> SymbolLayer(<span class="hljs-string">"selected-marker-layer"</span>, <span class="hljs-string">"selected-marker"</span>)
  .withProperties(
    PropertyFactory.textField(<span class="hljs-string">"Mapbox"</span>),
    PropertyFactory.textColor(Color.BLACK),
    PropertyFactory.textOpacity(<span class="hljs-number">0.5f</span>)
  );

mapboxMap.addLayer(selectedMarker);
</code></pre>
<!-- NOTE build an example showing how to display text stored in source property -->
<h4 id="raster-2"><a class="markdownIt-Anchor" href="#raster-2"></a> Raster</h4>
<p>Raster layers are typically a collection of images that display on top of the base map tiles. While Vector tiles are preferred, satellite imagery or legacy map styles render as a raster layer.</p>
<pre class="hljs"><code>RasterSource rasterSource = <span class="hljs-keyword">new</span> RasterSource(<span class="hljs-string">"source-id"</span>, <span class="hljs-string">"mapbox://mapbox.u8yyzaor"</span>);
mapboxMap.addSource(rasterSource);

RasterLayer rasterLayer = <span class="hljs-keyword">new</span> RasterLayer(<span class="hljs-string">"layer-id"</span>, <span class="hljs-string">"source-id"</span>);
mapboxMap.addLayer(rasterLayer);
</code></pre>
<h4 id="circle"><a class="markdownIt-Anchor" href="#circle"></a> Circle</h4>
<p>Circle layers have a single center coordinate which comes from the source data. It’s a geographically accurate projection of a circle on the Earth’s surface drawn on the map. A few default properties are provided but can be overriddenwhen the layers first created.</p>
<pre class="hljs"><code>VectorSource vectorSource = <span class="hljs-keyword">new</span> VectorSource(<span class="hljs-string">"source-id"</span>, <span class="hljs-string">"mapbox://mapbox.2opop9hr"</span>);
mapboxMap.addSource(vectorSource);

CircleLayer circleLayer = <span class="hljs-keyword">new</span> CircleLayer(<span class="hljs-string">"layer-id"</span>, <span class="hljs-string">"source-id"</span>);
circleLayer.setSourceLayer(<span class="hljs-string">"museum-cusco"</span>);
museumsLayer.setProperties(
  PropertyFactory.visibility(Property.VISIBLE),
  PropertyFactory.circleRadius(<span class="hljs-number">8f</span>),
  PropertyFactory.circleColor(Color.argb(<span class="hljs-number">1</span>, <span class="hljs-number">55</span>, <span class="hljs-number">148</span>, <span class="hljs-number">179</span>))
);
</code></pre>
<h3 id="filtering"><a class="markdownIt-Anchor" href="#filtering"></a> Filtering</h3>
<p>A filter selects specific features from a layer. A filter is an array of one of the following forms:</p>
<table>
<thead>
<tr>
<th>API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Filter.notIn</code></td>
<td>Check the property is not within the given set</td>
</tr>
<tr>
<td><code>Filter.in</code></td>
<td>Check the property is within the given set</td>
</tr>
<tr>
<td><code>Filter.lte</code></td>
<td>Check the property equals or does not exceeds the given value</td>
</tr>
<tr>
<td><code>Filter.lt</code></td>
<td>Check the property does not exceed the given value</td>
</tr>
<tr>
<td><code>Filter.gte</code></td>
<td>Check the property exceeds or equals the given value</td>
</tr>
<tr>
<td><code>Filter.gt</code></td>
<td>Check the property exceeds the given value</td>
</tr>
<tr>
<td><code>Filter.neq</code></td>
<td>Check the property does not equal the given value</td>
</tr>
<tr>
<td><code>Filter.eq</code></td>
<td>Check the property equals the given value</td>
</tr>
<tr>
<td><code>Filter.notHas</code></td>
<td>Check the property’s existence, negated</td>
</tr>
<tr>
<td><code>Filter.has</code></td>
<td>Check the property’s existence</td>
</tr>
<tr>
<td><code>Filter.none</code></td>
<td>Groups a collection of statements in an ‘none’ relationship</td>
</tr>
<tr>
<td><code>Filter.any</code></td>
<td>Groups a collection of statements in an ‘any’ relationship</td>
</tr>
<tr>
<td><code>Filter.all</code></td>
<td>Groups a collection of statements in an ‘all’ relationship</td>
</tr>
</tbody>
</table>
<p>A key must be a string that identifies a feature property or a special key. Read <a href="https://www.mapbox.com/mapbox-gl-js/style-spec/#types-filter">more on filters here</a></p>
<h3 id="modify-properties"><a class="markdownIt-Anchor" href="#modify-properties"></a> Modify Properties</h3>
<p>Sources and layers aren’t immutable and therefore, can be modified anytime during the map render. For example, to alter the fill color of a layer after it’s been added to the map, you use the <code>mapboxMap</code> object to get the layer and set the property.</p>
<pre class="hljs"><code>FillLayer fillLayer = (FillLayer) mapboxMap.getLayer(<span class="hljs-string">"fill-layer-id"</span>);
<span class="hljs-keyword">if</span> (fillLayer != <span class="hljs-keyword">null</span>) {
  fillLayer.setProperties(
    PropertyFactory.fillColor(Color.GREEN)
  );
}
</code></pre>
<p>In a GeoJSON source, you are able to modify, add, remove, or replace the FeatureCollection like so:</p>
<pre class="hljs"><code>GeoJsonSource geoJsonSource = (GeoJsonSource) mapboxMap.getSource(<span class="hljs-string">"geojson-source-id"</span>);
<span class="hljs-keyword">if</span> (geoJsonSource != <span class="hljs-keyword">null</span>) {
  geoJsonSource.setGeoJson(myFeatureCollection);
}
</code></pre>
<h3 id="capturing-click-events"><a class="markdownIt-Anchor" href="#capturing-click-events"></a> Capturing click events</h3>
<p>Layers are not clickable and don’t expose any event listeners for you to handle user input. Instead, the map querying feature described in a separate doc go over how to detect when a user has clicked on a polygon inside your fill layer for example.</p>
</div></div></div></div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1499456129309"></script></body></html>