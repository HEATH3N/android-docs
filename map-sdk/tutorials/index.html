<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>First steps guide | Android Documentation</title><meta name="type" data-type="enum" content="Android Documentation"/><meta name="title" data-type="string" content="First steps guide | Android Documentation"/><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><link href="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.10.0/assembly.min.css" rel="stylesheet"/><script src="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.10.0/assembly.js"></script><link rel="stylesheet" href="stylesheet.css" type="text/css"/><style>.border--3{border-width:3px!important}.bg-green{background-color:#8cca44!important}.icon-android-green svg{color:#8cca44}.bright-blue-color{color:#0082ff}.border--gray-less-faint{border-color:#e8ebee!important}.hmax130 img{max-height:130px}.wmax260{max-width:260px}.text-decoration-none{text-decoration:none!important}.unstyled-list li{list-style-type:none!important}.overflow-y{overflow-y:auto}.t48{top:48px}.b0{bottom:0}.limiter{padding-left:24px;padding-right:24px;width:100%}@media (min-width:1200px){.limiter{padding-left:12.5%!important;padding-right:12.5%!important}}@media (min-width:440px){.note-card{margin-top:-12px;width:240px;margin-left:24px;padding-bottom:24px}}@media (max-width:640px){.mobile-left-nav{visibility:collapse;width:0;padding:0}}@media (max-width:640px){.mobile-right-nav{visibility:hidden;width:0;padding:0}}@media (min-width:640px){.nav-mobile{visibility:hidden}}@media (max-width:640px){.mobile-right-nav svg{visibility:visible}}@media (max-width:800px){.content{width:100%!important}}code p{font-weight:lighter;font-size:11px}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important;font-weight:700!important;font-size:13px!important;word-break:normal!important}pre{background-color:#232323!important}.prose h1,h2,h3,h4,h5,h6{font-weight:400!important}.prose h3{margin-top:32px;border-top:1px solid rgba(198,210,225,.50196)}.prose h3:first-child{border-top:0}body .prose blockquote{border-left:5px solid #56adec;background-color:#fafafa;border-radius:2px;word-wrap:break-word;padding-top:12px;padding-bottom:12px;padding-right:12px}.toc{display:block!important;-ms-flex-negative:0!important;flex-shrink:0!important;-ms-flex-preferred-size:auto!important;flex-basis:auto!important;list-style-type:none;color:#273d56;position:fixed;top:42px;bottom:0;overflow-y:auto;padding-right:20px;padding-bottom:20px;padding-top:24px}@media (max-width:800px){.toc{visibility:hidden}}.toc-subheaders{font-size:12px;display:inline-block;line-height:20px;margin-bottom:12px}.page-hover:hover,.toc-subheaders a:hover{color:#0082ff}.nav-item:hover{color:#0082ff!important;border-color:#273d56}.doc-ul>.doc-ul-item:before{content:"";width:8px;height:8px;border-radius:2px;border:1px solid #1f3349;opacity:.4;position:absolute;margin:9px 0 0 -20px}.doc-ol{counter-reset:listItem}.doc-ol>.doc-ol-item{margin:3px 0}ol li{list-style-type:none}ol li:before{counter-increment:listItem;content:counter(listItem);font-size:12px;border-radius:3px;padding:1px 6px;border:1px solid #c6d2e1;margin-right:12px}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="1304492736"><div class="z1 min48 flex-parent--center-main flex-parent w-full border-b border-t bg-white border--gray-less-faint fixed" data-reactid="2"><div class="wmax1200 w-full pl24 pr24 flex-parent--space-between-main flex-parent" data-reactid="3"><div class="flex-child col col--6 inline-block" data-reactid="4"><div class="txt-s mobile-left-nav py12 bg-transparent btn px0 color-gray-light" data-reactid="5"><strong data-reactid="6">Platform</strong></div><div class="txt-s py12 bg-transparent btn  color-gray-dark" data-reactid="7"><strong data-reactid="8">Android</strong></div><div class="txt-s mobile-left-nav py12 bg-transparent btn px0 color-gray-light" data-reactid="9"><strong data-reactid="10">Product</strong></div><div style="display:inline-block;" data-reactid="11"><button class="txt-s py12 nav-item bg-transparent btn flex-parent flex-parent--center-cross color-gray-dark" data-reactid="12"><strong data-reactid="13"><!-- react-text: 14 -->Map SDK<!-- /react-text --><!-- react-text: 15 --><!-- /react-text --><!-- react-text: 16 --><!-- /react-text --><!-- react-text: 17 --><!-- /react-text --></strong><svg class="icon" data-reactid="18"><use href="#icon-chevron-down" data-reactid="19"></use></svg></button></div></div><div class="flex-child col col--6 flex-parent flex-parent--end-main" data-reactid="20"><div style="display:inherit;" data-reactid="21"><button class="block flex-parent flex-parent--center-cross" data-reactid="22"><svg class="icon--l nav-mobile color-gray-dark opacity75" data-reactid="23"><use href="#icon-menu" data-reactid="24"></use></svg></button></div><a class="py12 transition mobile-right-nav unround btn color-gray-dark nav-item bg-transparent txt-s  " href="/android-docs/map-sdk/overview/" data-reactid="25">Overview</a><a class="py12 transition mobile-right-nav unround btn color-gray-dark nav-item bg-transparent txt-s  " href="/android-docs/map-sdk/examples/" data-reactid="26">Examples</a><a class="py12 transition mobile-right-nav unround btn color-gray-dark nav-item bg-transparent txt-s  border-b border--3" href="/android-docs/map-sdk/tutorials/" data-reactid="27">Tutorials</a></div></div></div><div class="scroll-styled flex-parent--center-main flex-parent limiter pb96 pl24 pr24 pt24 overflow-y t48 b0 fixed flex-child" data-reactid="28"><div class="flex-parent--space-between-main flex-parent" data-reactid="29"><div class="col--3 pt42 col toc flex-child--no-shrink  scroll-styled" data-reactid="30"><div data-reactid="31"><li class="txt-bold txt-fancy" data-reactid="32"><a class="page-hover text-decoration-none" href="/android-docs/map-sdk/tutorials/" data-reactid="33"><div class="bright-blue-color" data-reactid="34">First steps guide</div></a></li><div class="ml6 pt6" data-reactid="35"><ul class="toc-subheaders">
<li><a href="#getting-started">Getting started</a>
<ul>
<li><a href="#setting-up-android-studio">Setting up Android Studio</a></li>
<li><a href="#set-up-an-android-virtual-device">Set up an Android Virtual Device</a></li>
</ul>
</li>
<li><a href="#installing-mapbox">Installing Mapbox</a>
<ul>
<li><a href="#app-permissions">App permissions</a></li>
<li><a href="#access-tokens">Access tokens</a></li>
<li><a href="#mapview">MapView</a></li>
<li><a href="#mapboxmap">MapboxMap</a></li>
</ul>
</li>
<li><a href="#adding-a-map">Adding a map</a>
<ul>
<li><a href="#configure-your-mapview">Configure your mapView</a></li>
</ul>
</li>
<li><a href="#changing-the-map-style">Changing the map style</a>
<ul>
<li><a href="#creating-your-own-styles">Creating your own styles</a></li>
<li><a href="#using-mapbox-studio-classic-styles-and-maps">Using Mapbox Studio Classic styles and maps</a></li>
</ul>
</li>
<li><a href="#next-steps">Next steps</a></li>
</ul>
</div></div><div data-reactid="36"><li class="txt-bold txt-fancy" data-reactid="37"><a class="page-hover text-decoration-none" href="/android-docs/map-sdk/tutorials/runtime-animations/" data-reactid="38">Runtime styling animations</a></li><!-- react-text: 39 --><!-- /react-text --></div><!-- react-text: 40 --><!-- /react-text --></div><div data-reactid="41"><div class="prose color-gray-dark" data-reactid="42"><div class="content col--9 col col--offl3" data-reactid="43"><div class="pt12 doc-ul doc-ol pb96 wmax1200 doc-ol-item" data-reactid="44"><div class="markdown" data-reactid="45"><div data-reactid="46"><h1 id="first-steps-guide"><a class="markdownIt-Anchor" href="#first-steps-guide"></a> First steps guide</h1>
<p>The Map SDK is our vector maps library for Android. This guide will walk you through installing the SDK with <a href="http://developer.android.com/sdk/index.html">Android Studio</a>, loading a map, placing a marker on it, and changing the map style.</p>
<h2 id="getting-started"><a class="markdownIt-Anchor" href="#getting-started"></a> Getting started</h2>
<p>Here’s what you’ll need to get started:</p>
<ul>
<li>
<p><a href="https://www.mapbox.com/help/create-api-access-token/"><strong>An access token</strong></a>. You can find your access tokens on your <a href="https://www.mapbox.com/studio/account/tokens/">account page</a>.</p>
</li>
<li>
<p><a href="http://developer.android.com/sdk/index.html"><strong>Android Studio</strong></a>. You can get this for free from Google.</p>
</li>
<li>
<p><a href="https://play.google.com/apps/publish/signup/"><strong>Google Play Developer Account</strong> (optional)</a>. If you want to publish your app to Google Play, you’ll need a Google Play developer account. Without one, you’ll still be able to preview the app on an Android Virtual Device (AVD) or install the app on a physical device.</p>
</li>
</ul>
<h3 id="setting-up-android-studio"><a class="markdownIt-Anchor" href="#setting-up-android-studio"></a> Setting up Android Studio</h3>
<p>Open Android Studio and go to <code>File ‣ New ‣ New Project</code> to create a new project (or select <strong>Start a new Android Studio project</strong>). Under <strong>Configure your new project</strong>:</p>
<ul>
<li>Name the project <code>My First Mapbox App</code></li>
<li>Set company domain to <code>mycompany.com</code></li>
</ul>
<p><img src="../../assets/imgs/first-steps/project-configure.png" alt=""></p>
<p>Under <strong>Select the form factors your app will run on</strong>, check “Phone and Tablet.” For minimum SDK, <code>select API 15: Android 4.0.3 (IceCreamSandwich)</code>. This is the lowest API level currently supported by Mapbox Android SDK.</p>
<p>Click <strong>Next</strong> to advance to the activity selection screen. Select <strong>Empty Activity</strong> and click <strong>Next</strong>. Accept the default <code>Activity Name</code> and <code>Layout Name</code> and click <strong>Finish</strong>.</p>
<p><img src="../../assets/imgs/first-steps/activity-customize.png" alt=""></p>
<h3 id="set-up-an-android-virtual-device"><a class="markdownIt-Anchor" href="#set-up-an-android-virtual-device"></a> Set up an Android Virtual Device</h3>
<p>Android Studio can help you set up virtual Android devices on your computer to help test your app while you develop. To set one up, click on the Android Virtual Device (AVD) Manager icon <img src="../../assets/imgs/first-steps/avd.png" alt="">, then click the <strong>Create Virtual Device</strong> button. From the <strong>Phones</strong> category, select <strong>Nexus 5X</strong> and click <strong>Next</strong>. Select the release you would like to test against (this guide was built using Marshmallow API level 23, x86, Android 6.0). Learn more about setting up an AVD from <a href="http://developer.android.com/tools/help/avd-manager.html">Android Studio’s documentation</a>.</p>
<h2 id="installing-mapbox"><a class="markdownIt-Anchor" href="#installing-mapbox"></a> Installing Mapbox</h2>
<p>We recommend installing with <a href="http://www.gradle.org/">Gradle</a>. This will automatically install the necessary dependencies and pull the Map SDK binaries from the Maven Central repository.</p>
<p>To install the current stable version, add this to your <strong>Module Build File</strong> <code>~/MyFirstMapboxApp/app/build.gradle</code>:</p>
<pre class="hljs"><code>repositories {
    mavenCentral()
}

dependencies {
    <span class="hljs-comment">// add the Mapbox SDK dependency below</span>
    compile (<span class="hljs-string">'com.mapbox.mapboxsdk:mapbox-android-sdk:5.0.2@aar'</span>){
        transitive=<span class="hljs-literal">true</span>
    }
}
</code></pre>
<p><a href="../../assets/imgs/first-steps/build-gradle.png"></a></p>
<h3 id="app-permissions"><a class="markdownIt-Anchor" href="#app-permissions"></a> App permissions</h3>
<p>Add either a course or fine location permission in your project’s <code>AndroidManifest.xml</code> file from <code>~/MyFirstMapboxApp/app/src/main/</code>:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span>
</code></pre>
<p>If the app is targeting Android Marshmallow (API 23) or later it’s <a href="https://developer.android.com/training/permissions/requesting.html">necessary to request permissions at runtime</a>.</p>
<h3 id="access-tokens"><a class="markdownIt-Anchor" href="#access-tokens"></a> Access tokens</h3>
<p>To use Mapbox services and APIs, such as maps, directions, and geocoding, you must have a Mapbox access token. You can find your access tokens in <a href="https://www.mapbox.com/account/apps/">your account settings</a>, where you can retrieve current tokens and generate new ones. Using separate access tokens per project help you track usage and minimize disruption in the event a token needs to be revoked.</p>
<p>First, go to your account settings and create a new access token for <code>My First Mapbox App</code>. Once you’ve got your token, open <code>strings.xml</code> file from <code>~/MyFirstMapboxApp/app/src/main/res/values</code>.</p>
<p><a href="../../assets/imgs/first-steps/strings.png"></a></p>
<p>Add a new string for your access token:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"app_name"</span>&gt;</span>My First Mapbox App<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"access_token"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">your</span> <span class="hljs-attr">access</span> <span class="hljs-attr">token</span> <span class="hljs-attr">here</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
<p>Now open the <code>MainActivity.java</code> file and get a Mapbox instance in your <code>onCreate</code> method:</p>
<pre class="hljs"><code><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
  <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
  <span class="hljs-comment">// Line must go before the layout XML files loaded</span>
  Mapbox.getInstance(<span class="hljs-keyword">this</span>, getString(R.string.access_token));

  setContentView(R.layout.activity_main);
  ...
}
</code></pre>
<h3 id="mapview"><a class="markdownIt-Anchor" href="#mapview"></a> MapView</h3>
<p>The <code>MapView</code> behaves like any other <code>View</code> and its behavior can be changed statically with an <a href="http://developer.android.com/guide/topics/ui/declaring-layout.html">XML layout</a> file, or programmatically during runtime.</p>
<p>To add the <code>MapView</code> as a layout element, replace the code in the <code>activity_main.xml</code> file from <code>~/MyFirstMapboxApp/app/src/main/res/layout/</code> with the following:</p>
<pre class="hljs"><code><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">RelativeLayout</span>
  <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
  <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">"http://schemas.android.com/tools"</span>
  <span class="hljs-attr">xmlns:mapbox</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span>
  <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">tools:context</span>=<span class="hljs-string">".MainActivity"</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">com.mapbox.mapboxsdk.maps.MapView</span>
    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mapview"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">RelativeLayout</span>&gt;</span>
</code></pre>
<p>Later on, you can call the <code>MapView</code> class programmatically within an Activity:</p>
<pre class="hljs"><code>findViewById(R.id.mapview);
</code></pre>
<h3 id="mapboxmap"><a class="markdownIt-Anchor" href="#mapboxmap"></a> MapboxMap</h3>
<p>Once you have declared and assigned your <code>MapView</code>, you will need to call <code>MapView.getMapAsync</code> to create a <code>MapboxMap</code> object. The <code>MapboxMap</code> object allows you to change styles and interact with your map.</p>
<pre class="hljs"><code>mapView.getMapAsync(<span class="hljs-keyword">new</span> OnMapReadyCallback() {
  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onMapReady</span><span class="hljs-params">(MapboxMap mapboxMap)</span> </span>{

      <span class="hljs-comment">// Interact with the map using mapboxMap here</span>

  }
});
</code></pre>
<p>Now you’re ready to start building with Mapbox!</p>
<h2 id="adding-a-map"><a class="markdownIt-Anchor" href="#adding-a-map"></a> Adding a map</h2>
<p>Let’s add a map of Chicago to our app. To start, open your <code>My First Mapbox App</code> in Android Studio and navigate to <code>~/app/src/main/java/com.mycompany.myfirstmapboxapp/MainActivity.java</code>.</p>
<p><img src="%7B%7Bsite.baseurl%7D%7D/img/android/workspace.png" alt="Screenshot"></p>
<p>We’re going to use the <code>mapView</code> class we set up earlier to add a Mapbox map to our app. The app needs to know <em>when</em> to add the map, so we’ll do so when the activity is initialized with <code>onCreate</code>.</p>
<pre class="hljs"><code><span class="hljs-keyword">private</span> MapView mapView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        MapboxAccountManager.start(<span class="hljs-keyword">this</span>, getString(R.string.access_token));
        setContentView(R.layout.activity_main);

        <span class="hljs-comment">// Create a mapView</span>
        mapView = (MapView) findViewById(R.id.mapview);
        mapView.onCreate(savedInstanceState);
    }
</code></pre>
<p>Next, use your new <code>mapView</code> class to create a <code>MapboxMap</code> object. <code>MapboxMap</code> has lots of built-in methods that will allow you to change map styles or camera position, add markers, and more. Create your <code>MapboxMap</code> inside an <code>OnMapReadyCallback</code>:</p>
<pre class="hljs"><code><span class="hljs-keyword">private</span> MapView mapView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        MapboxAccountManager.start(<span class="hljs-keyword">this</span>, getString(R.string.access_token));
        setContentView(R.layout.activity_main);

        <span class="hljs-comment">// Create a mapView</span>
        mapView = (MapView) findViewById(R.id.mapview);
        mapView.onCreate(savedInstanceState);

        <span class="hljs-comment">// Add a MapboxMap</span>
        mapView.getMapAsync(<span class="hljs-keyword">new</span> OnMapReadyCallback() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onMapReady</span><span class="hljs-params">(MapboxMap mapboxMap)</span> </span>{

                <span class="hljs-comment">// Customize map with markers, polylines, etc.</span>

            }
        });
    }
</code></pre>
<h3 id="configure-your-mapview"><a class="markdownIt-Anchor" href="#configure-your-mapview"></a> Configure your mapView</h3>
<p>You can configure many of your map’s characteristics, including starting camera position, and style URL, in your activity’s layout file. Add the following to your activity’s layout file, inside your <code>com.mapbox.mapboxsdk.maps.MapView</code> tags:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">com.mapbox.mapboxsdk.maps.MapView</span>
    <span class="hljs-attr">mapbox:mapbox_cameraTargetLat</span>=<span class="hljs-string">"41.885"</span>
    <span class="hljs-attr">mapbox:mapbox_cameraTargetLng</span>=<span class="hljs-string">"-87.679"</span>
    <span class="hljs-attr">mapbox:mapbox_styleUrl</span>=<span class="hljs-string">"@string/mapbox_style_mapbox_streets"</span>
    <span class="hljs-attr">mapbox:mapbox_cameraTilt</span>=<span class="hljs-string">"20"</span>
    <span class="hljs-attr">mapbox:mapbox_cameraZoom</span>=<span class="hljs-string">"12"</span>
    <span class="hljs-attr">...</span>
/&gt;</span>
</code></pre>
<p>When you’ve finished entering the above code, you will probably see some red warning text from Android Studio. This is because we haven’t yet imported some of the classes we’re referencing in <code>MainActivity.java</code>. You can automatically import these classes by pressing Alt + Enter (option + return on Mac). Alternatively, manually add the following to the top of your <code>MainActivity.java</code> file:</p>
<pre class="hljs"><code><span class="hljs-keyword">import</span> android.app.Activity;
<span class="hljs-keyword">import</span> android.os.Bundle;

<span class="hljs-keyword">import</span> com.mapbox.mapboxsdk.maps.MapView;
<span class="hljs-keyword">import</span> com.mapbox.mapboxsdk.maps.MapboxMap;
<span class="hljs-keyword">import</span> com.mapbox.mapboxsdk.maps.OnMapReadyCallback;
<span class="hljs-keyword">import</span> com.mapbox.mapboxsdk.MapboxAccountManager;
</code></pre>
<p>Next, we’ll handle the other types of events that might affect our map app:</p>
<pre class="hljs"><code>
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStart</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onStart();
    mapView.onStart();
}

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onResume</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onResume();
    mapView.onResume();
}

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPause</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onPause();
    mapView.onPause();
}

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">super</span>.onStop();
  mapView.onStop();
}

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSaveInstanceState</span><span class="hljs-params">(Bundle outState)</span> </span>{
    <span class="hljs-keyword">super</span>.onSaveInstanceState(outState);
    mapView.onSaveInstanceState(outState);
}

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onLowMemory</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onLowMemory();
    mapView.onLowMemory();
}

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDestroy</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onDestroy();
    mapView.onDestroy();
}
</code></pre>
<p>Click the <strong>Run ‘app’</strong> button <img src="{{site.baseurl}}/img/android/run.png" class="inline" style="margin: 0" /> to build your app. Android Studio will take a few seconds to build and if it finishes without errors, you’ll be able to test drive it in the AVD you set up earlier.</p>
<p><img src="%7B%7Bsite.baseurl%7D%7D/img/android/initial-map.png" alt=""></p>
<h2 id="changing-the-map-style"><a class="markdownIt-Anchor" href="#changing-the-map-style"></a> Changing the map style</h2>
<p>The Mapbox Android SDK comes bundled with a handful of map styles, so let’s try changing it up a bit. You can find a list of the current bundled styles with the Mapbox SDK’s Style constant. Let’s use the <code>LIGHT</code> style (the version of Mapbox Light that conforms to the {{site.styleVersion}} release of the <a href="https://www.mapbox.com/mapbox-gl-style-spec/">GL style specification</a>).</p>
<p>To set your map’s initial style to <code>LIGHT</code>, open your <code>activity_main.xml</code> layout file and set <code>mapbox:mapbox_styleUrl</code> to
<code>@string/mapbox_style_light</code>:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">com.mapbox.mapboxsdk.maps.MapView</span>
    <span class="hljs-attr">mapbox:mapbox_styleUrl</span>=<span class="hljs-string">"@string/mapbox_style_light"</span>
    <span class="hljs-attr">...</span>
/&gt;</span>
</code></pre>
<p>You can also change your style programmatically using <code>MapboxMap</code>'s <code>setStyleURL</code> method. Inside <code>onCreate()</code>, change the line that sets <code>mapboxMap</code>'s style to:</p>
<pre class="hljs"><code>mapboxMap.setStyleUrl(Style.LIGHT);
</code></pre>
<p><img src="%7B%7Bsite.baseurl%7D%7D/img/android/change_style.png" alt=""></p>
<h3 id="creating-your-own-styles"><a class="markdownIt-Anchor" href="#creating-your-own-styles"></a> Creating your own styles</h3>
<p>You can create custom styles with <a href="https://www.mapbox.com/mapbox-studio/">Mapbox Studio</a> and add them to your app. To add one of your custom styles to your <code>mapboxMap</code>, head to your <a href="https://www.mapbox.com/studio/styles/">styles page</a>, copy your style’s <a href="https://www.mapbox.com/help/define-style-url/">style URL</a>, then add it to your <code>mapboxMap</code> with <code>setStyleURL()</code>:</p>
<pre class="hljs"><code>mapboxMap.setStyleUrl(<span class="hljs-string">"mapbox://styles/&lt;your-account-name&gt;/&lt;your-style-ID&gt;"</span>);
</code></pre>
<!-- Change style properties in real time

Starting with version `4.2.0` you can tweak your map style on the fly at runtime. This includes adding new layers, styling layer properties like color and opacity, and much more. -->
<!-- TODO You can access many of the options using the `MapboxMap` object, checkout the [style examples](https://www.mapbox.com/android-sdk/examples/) to get started. -->
<h3 id="using-mapbox-studio-classic-styles-and-maps"><a class="markdownIt-Anchor" href="#using-mapbox-studio-classic-styles-and-maps"></a> Using Mapbox Studio Classic styles and maps</h3>
<p>Raster maps and styles created with <a href="https://www.mapbox.com/mapbox-studio-classic/">Mapbox Studio Classic</a> are not directly compatible with the Android SDK, though you can still load these maps <a href="https://www.mapbox.com/android-sdk/examples/custom-raster/">via a custom  style</a>. Please note that associated markers, lines, and shapes are not supported.</p>
<h2 id="next-steps"><a class="markdownIt-Anchor" href="#next-steps"></a> Next steps</h2>
<p>You just built a small Android app with Mapbox! You can now create an Android Studio project, install the Mapbox SDK, and change the map style. Pat yourself on the back!</p>
<p>As you continue to develop your Mapbox app, we recommend that you read the following:</p>
<ul>
<li><a href="https://www.mapbox.com/help/android-markers/">Draw and configure markers</a> — learn how to add and customize markers in your application</li>
<li><a href="%7B%7Bsite.url%7D%7D/android-sdk/#attribution">Attribution</a> — comply with the licensing terms of the map data used in your application</li>
</ul>
<p>We’ll be adding and updating guides to help you learn all of Mapbox’s amazing features as we continue to develop it. Here are a few resources to keep you up-to-date with Mapbox:</p>
<ul>
<li><a href="%7B%7Bsite.url%7D%7D/android-sdk">Mapbox Android SDK documentation</a></li>
<li><a href="https://github.com/mapbox/mapbox-gl-native">Mapbox GL Native on GitHub</a> to follow the open source project behind Mapbox Mobile</li>
</ul>
</div></div></div></div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1496264501581"></script></body></html>