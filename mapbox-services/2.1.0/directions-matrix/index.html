<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Directions Matrix | Android Documentation</title><link href="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.min.css" rel="stylesheet"/><script async="" defer="" src="https://api.mapbox.com/mapbox-assembly/v0.12.0/assembly.js"></script><link href="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.9.1/assembly.min.css" rel="stylesheet"/><script src="https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.9.1/assembly.js"></script><style>.bg-denim{background-color:#607d9c!important}.btn{border-radius:0}.txt-s{line-height:inherit}.main-content{position:fixed;top:48px;bottom:0;overflow-y:auto;padding-top:24px;padding-bottom:250px;width:inherit}code p{font-weight:lighter;font-size:11px}code,pre{font-family:Fira Mono Medium,Monaco,monospace!important;font-weight:700!important;font-size:13px!important;word-break:normal!important}pre{background-color:#232323!important}.error,.info,.success,.warning{border-left:5px solid #fd0;padding:10px 15px;margin-left:-20px;margin-right:-15px;background-color:#fafafa;border-radius:2px}.info{border-color:#56adec}body .prose blockquote{border-left:5px solid #56adec;background-color:#fafafa;border-radius:2px;word-wrap:break-word;padding-top:12px;padding-bottom:12px;padding-right:12px}.toc{list-style-type:none;color:#fff;background:#232323;position:fixed;top:42px;bottom:0;overflow-y:auto;padding:24px 20px 20px;width:inherit;border-right:1px solid grey}.toc-subheaders{font-size:12px;display:inline-block;line-height:20px;margin-bottom:12px}.page-hover:hover,.toc-subheaders a:hover{color:#aab7ef}.card-bg{background:#f4f7fb;width:100%;position:fixed;overflow-y:auto}.card-container{top:48px;bottom:0;padding-bottom:100px}.card{background:#fff;border-radius:2px;display:inline-block;height:375px;margin:16px;margin:1rem;position:relative;width:325px;vertical-align:top}.card img{display:block;margin:auto}.card h4,p{margin:12px}.card-1{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.card-1:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.hljs{color:#a9b7c6;background:#232323;display:block;overflow-x:auto;padding:.5em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#56b881}.hljs-comment,.hljs-quote{color:gray}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#56b881}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><div id="react-mount"><div class="grid" data-reactroot="" data-reactid="1" data-react-checksum="252132335"><div class="col--12 z1 hmin48 bg-denim shadow-darken50 fixed" data-reactid="2"><div class="align-t hmin48 flex-parent-inline flex-parent--center-cross flex-parent--left-main w240" data-reactid="3"><a href="https://mapbox.com/" data-reactid="4"><div class="ml12 mb-logo--s mb-logo--white" data-reactid="5"></div></a></div><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/map-sdk/5.0.2/getting-started/" data-reactid="6">Map SDK</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  is-active" href="/android-docs/mapbox-services/2.1.0/getting-started/" data-reactid="7">Mapbox Services</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/mapbox-navigation/2.1.0/navigation/" data-reactid="8">Mapbox Navigation</a><a class="py12 transition btn color-white bg-transparent bg-darken10-on-active bg-darken10-on-hover txt-s  " href="/android-docs/examples/basics/" data-reactid="9">Examples</a></div><div class="w240 toc" data-reactid="10"><div data-reactid="11"><li data-reactid="12"><a class="page-hover" style="text-decoration:none;" href="/android-docs/mapbox-services/2.1.0/getting-started/" data-reactid="13">Mapbox Services</a></li><!-- react-text: 14 --><!-- /react-text --></div><div data-reactid="15"><li data-reactid="16"><a class="page-hover" style="text-decoration:none;" href="/android-docs/mapbox-services/2.1.0/directions-matrix/" data-reactid="17"><strong data-reactid="18">Directions Matrix</strong></a></li><div class="ml12" data-reactid="19"><ul class="toc-subheaders">
<li>
<ul>
<li><a href="#building-and-making-requests">Building and making requests</a></li>
<li><a href="#api-response">API response</a></li>
</ul>
</li>
</ul>
</div></div><div data-reactid="20"><li data-reactid="21"><a class="page-hover" style="text-decoration:none;" href="/android-docs/mapbox-services/2.1.0/geocoder/" data-reactid="22">Geocoder</a></li><!-- react-text: 23 --><!-- /react-text --></div><div data-reactid="24"><li data-reactid="25"><a class="page-hover" style="text-decoration:none;" href="/android-docs/mapbox-services/2.1.0/static-image/" data-reactid="26">Static Image</a></li><!-- react-text: 27 --><!-- /react-text --></div><div data-reactid="28"><li data-reactid="29"><a class="page-hover" style="text-decoration:none;" href="/android-docs/mapbox-services/2.1.0/telemetry/" data-reactid="30">Telemetry</a></li><!-- react-text: 31 --><!-- /react-text --></div></div><div class="ml240 p48" data-reactid="32"><div class="grid" data-reactid="33"><div class="prose scroll-styled main-content" data-reactid="34"><div class="col--10" data-reactid="35"><div class="markdown" data-reactid="36"><h1 data-reactid="37">Directions Matrix</h1><div data-reactid="38"><p>The Directions Matrix API returns all travel times between many points. The Matrix API will always return the duration on the fastest route. Durations between points may not be symmetric (for example A to B may have a different duration than B to A), as the routes may differ by direction due to one-way streets or turn restrictions. The Matrix API returns durations in seconds. It does not return route geometries or distances. Make sure to have a look at the API documentation if you want <a href="https://www.mapbox.com/api-documentation/#directions-matrix">more information</a>.</p>
<p>This API allows you to build tools that efficiently check the reachability of coordinates from each other, filter points by travel time, or run your own algorithms for solving optimization problems.</p>
<p>The standard limit for request are a maximum 60 requests per minute and maximum 25 input coordinates. For example you can request a symmetric 25x25 matrix, an asymmetric 1x24 matrix with distinct coordinates or a 12x24 where sources and destinations share some coordinates. For higher volumes contact us.</p>
<blockquote>
<p><strong>Note:</strong> This replace the distance.v1 API which will be removed when <code>3.0.0</code> of Mapbox Services is released.</p>
</blockquote>
<h2 id="building-and-making-requests"><a class="markdownIt-Anchor" href="#building-and-making-requests"></a> Building and making requests</h2>
<p>Before requesting and receiving the Directions Matrix response, youâ€™ll need to use the <code>MapboxDirectionsMatrix</code> builder to set the request parameters. The most basic request passes in a <code>List</code> of coordinates, sets the directions profile and provides an access token.</p>
<pre class="hljs"><code>MapboxDirectionsMatrix client = <span class="hljs-keyword">new</span> MapboxDirectionsMatrix.Builder()
  .setAccessToken(ACCESS_TOKEN)
  .setProfile(DirectionsCriteria.PROFILE_WALKING)
  .setCoordinates(positions)
  .build();
</code></pre>
<h2 id="api-response"><a class="markdownIt-Anchor" href="#api-response"></a> API response</h2>
<p>Like all API calls inside Mapbox Services, the response will come inside a retrofit callback. inside the onResponse, you can access the APIs returned response if successful.</p>
<pre class="hljs"><code>client.enqueueCall(<span class="hljs-keyword">new</span> Callback&lt;DirectionsMatrixResponse&gt;() {
  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onResponse</span><span class="hljs-params">(Call&lt;DirectionsMatrixResponse&gt; call, Response&lt;DirectionsMatrixResponse&gt; response)</span> </span>{

  }

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(Call&lt;DirectionsMatrixResponse&gt; call, Throwable t)</span> </span>{

  }
});
</code></pre>
</div></div></div></div></div></div></div></div><script src="/android-docs/bundle.js?t=1492566248932"></script></body></html>